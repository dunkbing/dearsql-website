---
import Layout from "../layouts/Layout.astro";

const features = [
  {
    title: "Hand-crafted querying experience",
    description:
      "Syntax highlighting, autocomplete, and query history. Write SQL with less friction and more confidence.",
  },
  {
    title: "Effortless table editing",
    description:
      "Browse, filter, and edit table data inline. Changes are staged and generate proper SQL before committing.",
  },
  {
    title: "Built for performance",
    description:
      "Native C++ with Metal on macOS and OpenGL on Linux. No Electron, no bloat. Just fast, responsive UI.",
  },
];

const databases = [
  {
    name: "SQLite",
    icon: "/icons/sqlite.svg",
  },
  {
    name: "PostgreSQL",
    icon: "/icons/postgresql.svg",
  },
  {
    name: "MySQL",
    icon: "/icons/mysql.svg",
  },
  {
    name: "Redis",
    icon: "/icons/redis.svg",
  },
  {
    name: "MongoDB",
    icon: "/icons/mongodb.svg",
  },
];

const currentYear = new Date().getFullYear();
---

<Layout title="DearSQL - Simple, Powerful Database Manager">
  <div class="min-h-screen bg-base">
    <!-- Header -->
    <header
      class="fixed top-0 left-0 right-0 z-50 bg-base/80 backdrop-blur-sm border-b border-surface1"
    >
      <nav
        class="max-w-2xl mx-auto px-6 h-14 flex items-center justify-between"
      >
        <a href="/" class="flex items-center gap-2 font-semibold text-lg">
          <img
            src="/icon.webp"
            alt="DearSQL"
            width="28"
            height="28"
            class="rounded-md"
          />
          DearSQL
        </a>
        <!-- Desktop nav -->
        <div class="hidden sm:flex items-center gap-6 text-sm">
          <a
            href="#features"
            class="text-subtext0 hover:text-text transition-colors">Features</a
          >
          <a
            href="#pricing"
            class="text-subtext0 hover:text-text transition-colors">Pricing</a
          >
          <a
            href="https://github.com/dunkbing/dearsql-website"
            target="_blank"
            class="text-subtext0 hover:text-text transition-colors"
            aria-label="GitHub"
          >
            <img src="/icons/github.svg" alt="GitHub" class="w-5 h-5" />
          </a>
          <a
            href="https://github.com/dunkbing/dearsql-website/issues/new?labels=bug&title=%5BBug%5D+&body=%23%23+Description%0AA+clear+description+of+the+bug.%0A%0A%23%23+Steps+to+Reproduce%0A1.+%0A2.+%0A3.+%0A%0A%23%23+Expected+Behavior%0AWhat+you+expected+to+happen.%0A%0A%23%23+Actual+Behavior%0AWhat+actually+happened.%0A%0A%23%23+Environment%0A-+**OS**%3A+%0A-+**DearSQL+version**%3A+%0A-+**Database**%3A+%0A%0A%23%23+Screenshots%0AIf+applicable%2C+add+screenshots."
            target="_blank"
            class="inline-flex items-center gap-1.5 bg-surface0 hover:bg-surface1 border border-surface1 text-text px-3 py-1.5 rounded-lg font-medium transition-colors"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path>
            </svg>
            Report Bug
          </a>
        </div>
        <!-- Mobile hamburger -->
        <button
          id="menu-toggle"
          class="sm:hidden text-subtext0 hover:text-text transition-colors"
          aria-label="Toggle menu"
        >
          <svg id="menu-icon-open" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
          </svg>
          <svg id="menu-icon-close" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </nav>
      <!-- Mobile menu -->
      <div
        id="mobile-menu"
        class="sm:hidden hidden border-t border-surface1 bg-base/95 backdrop-blur-sm"
      >
        <div class="max-w-2xl mx-auto px-6 py-4 flex flex-col gap-4 text-sm">
          <a
            href="#features"
            class="text-subtext0 hover:text-text transition-colors py-1"
          >Features</a>
          <a
            href="#pricing"
            class="text-subtext0 hover:text-text transition-colors py-1"
          >Pricing</a>
          <a
            href="https://github.com/dunkbing/dearsql-website"
            target="_blank"
            class="text-subtext0 hover:text-text transition-colors py-1"
          >GitHub</a>
          <a
            href="https://github.com/dunkbing/dearsql-website/issues/new?labels=bug&title=%5BBug%5D+&body=%23%23+Description%0AA+clear+description+of+the+bug.%0A%0A%23%23+Steps+to+Reproduce%0A1.+%0A2.+%0A3.+%0A%0A%23%23+Expected+Behavior%0AWhat+you+expected+to+happen.%0A%0A%23%23+Actual+Behavior%0AWhat+actually+happened.%0A%0A%23%23+Environment%0A-+**OS**%3A+%0A-+**DearSQL+version**%3A+%0A-+**Database**%3A+%0A%0A%23%23+Screenshots%0AIf+applicable%2C+add+screenshots."
            target="_blank"
            class="inline-flex items-center gap-1.5 text-subtext0 hover:text-text transition-colors py-1"
          >Report Bug</a>
        </div>
      </div>
    </header>

    <main class="max-w-2xl mx-auto px-6">
      <!-- Hero -->
      <section class="pt-36 pb-16 text-center">
        <p class="text-sm text-peach font-medium mb-6 tracking-wide uppercase">
          Currently in development
        </p>
        <h1
          class="text-5xl md:text-6xl font-bold tracking-tight mb-6 text-text leading-tight"
        >
          A simple, powerful<br />database manager
        </h1>
        <p
          class="text-lg md:text-xl text-subtext0 max-w-xl mx-auto mb-10 leading-relaxed"
        >
          Fast, native, and designed for developers who care about their tools.
        </p>
        <p class="text-subtext0 text-sm">
          Free. macOS & Linux. Coming soon for Windows.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center mt-10 mb-8">
          <a
            href="https://pub-29493441e7d647038e2f777e7cac5cce.r2.dev/DearSQL.dmg"
            class="inline-flex items-center justify-center gap-2 bg-surface0 hover:bg-surface1 border border-surface1 text-text px-6 py-3 rounded-lg font-medium transition-colors"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path
                d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"
              ></path>
            </svg>
            macOS (.dmg)
          </a>
          <a
            href="https://pub-29493441e7d647038e2f777e7cac5cce.r2.dev/dearsql_0.1.7_amd64.deb"
            class="inline-flex items-center justify-center gap-2 bg-surface0 hover:bg-surface1 border border-surface1 text-text px-6 py-3 rounded-lg font-medium transition-colors"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"
              ></path>
            </svg>
            Linux (.deb)
          </a>
        </div>
        <div class="flex gap-5 justify-center mt-8">
          <a
            href="https://www.threads.net/@dunkbingg"
            target="_blank"
            class="text-subtext0 hover:text-text transition-colors"
            aria-label="Threads"
          >
            <span class="block w-5 h-5 bg-current" style="-webkit-mask-image: url('/icons/threads.svg'); mask-image: url('/icons/threads.svg'); -webkit-mask-size: contain; mask-size: contain; -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;"></span>
          </a>
          <a
            href="https://x.com/dunkbingg"
            target="_blank"
            class="text-subtext0 hover:text-text transition-colors"
            aria-label="X"
          >
            <span class="block w-5 h-5 bg-current" style="-webkit-mask-image: url('/icons/x.svg'); mask-image: url('/icons/x.svg'); -webkit-mask-size: contain; mask-size: contain; -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;"></span>
          </a>
          <a
            href="https://github.com/dunkbing/dearsql-website"
            target="_blank"
            class="text-subtext0 hover:text-text transition-colors"
            aria-label="GitHub"
          >
            <span class="block w-5 h-5 bg-current" style="-webkit-mask-image: url('/icons/github.svg'); mask-image: url('/icons/github.svg'); -webkit-mask-size: contain; mask-size: contain; -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;"></span>
          </a>
        </div>
      </section>

      <!-- Screenshot -->
      <section class="pb-24">
        <div class="flex justify-center gap-2 mb-6">
          <button
            id="tab-macos"
            class="tab-btn px-4 py-2 rounded-lg text-sm font-medium bg-surface1 text-text"
            data-tab="macos"
          >
            macOS
          </button>
          <button
            id="tab-linux"
            class="tab-btn px-4 py-2 rounded-lg text-sm font-medium bg-surface0 text-subtext0 hover:bg-surface1 hover:text-text transition-colors"
            data-tab="linux"
          >
            Linux
          </button>
        </div>
        <div
          id="screenshot-macos"
          class="screenshot-panel rounded-xl overflow-hidden shadow-2xl shadow-black/50 border border-surface1"
        >
          <img
            src="/sc.webp"
            alt="DearSQL on macOS"
            width="1400"
            height="913"
            fetchpriority="high"
            class="w-full h-auto"
          />
        </div>
        <div
          id="screenshot-linux"
          class="screenshot-panel hidden rounded-xl overflow-hidden shadow-2xl shadow-black/50 border border-surface1"
        >
          <img
            src="/sc_gtk.webp"
            alt="DearSQL on Linux"
            width="1400"
            height="783"
            fetchpriority="high"
            class="w-full h-auto"
          />
        </div>
      </section>

      <script>
        document
          .querySelectorAll<HTMLButtonElement>(".tab-btn")
          .forEach((btn) => {
            btn.addEventListener("click", () => {
              const tab = btn.dataset.tab;

              document
                .querySelectorAll<HTMLButtonElement>(".tab-btn")
                .forEach((b) => {
                  b.classList.remove("bg-surface1", "text-text");
                  b.classList.add("bg-surface0", "text-subtext0");
                });
              btn.classList.remove("bg-surface0", "text-subtext0");
              btn.classList.add("bg-surface1", "text-text");

              document
                .querySelectorAll(".screenshot-panel")
                .forEach((p) => p.classList.add("hidden"));
              document
                .getElementById(`screenshot-${tab}`)
                ?.classList.remove("hidden");
            });
          });
      </script>

      <script>
        const toggle = document.getElementById("menu-toggle")!;
        const menu = document.getElementById("mobile-menu")!;
        const iconOpen = document.getElementById("menu-icon-open")!;
        const iconClose = document.getElementById("menu-icon-close")!;

        toggle.addEventListener("click", () => {
          menu.classList.toggle("hidden");
          iconOpen.classList.toggle("hidden");
          iconClose.classList.toggle("hidden");
        });

        menu.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            menu.classList.add("hidden");
            iconOpen.classList.remove("hidden");
            iconClose.classList.add("hidden");
          });
        });
      </script>

      <!-- Features -->
      <section id="features" class="py-24">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-text">
          Best at the basics
        </h2>
        <p class="text-subtext0 text-center mb-16 max-w-xl mx-auto">
          No unnecessary complexity. Just what matters for working with
          databases.
        </p>
        <div class="grid md:grid-cols-3 gap-8">
          {
            features.map((feature) => (
              <div class="text-center md:text-left">
                <h3 class="font-semibold text-lg mb-3 text-text">
                  {feature.title}
                </h3>
                <p class="text-subtext0 text-sm leading-relaxed">
                  {feature.description}
                </p>
              </div>
            ))
          }
        </div>
      </section>

      <!-- Databases -->
      <section id="databases" class="py-24 border-t border-surface1">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-text">
          All your databases, one app
        </h2>
        <p class="text-subtext0 text-center mb-16 max-w-xl mx-auto">
          Connect to SQLite, PostgreSQL, MySQL, MongoDB, and Redis from a single
          interface.
        </p>
        <div class="grid grid-cols-3 sm:grid-cols-5 gap-6">
          {
            databases.map((db) => (
              <div class="text-center p-5 rounded-xl border border-surface1 bg-surface0">
                <img
                  src={db.icon}
                  alt={db.name}
                  class="w-10 h-10 mx-auto mb-3"
                />
                <h3 class="font-medium text-sm text-text">{db.name}</h3>
              </div>
            ))
          }
        </div>
      </section>

      <!-- Pricing -->
      <section id="pricing" class="py-24 border-t border-surface1">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-text">
          Simple pricing
        </h2>
        <p class="text-subtext0 text-center mb-12">
          One-time purchase. No subscriptions, no recurring fees.
        </p>
        <div class="grid sm:grid-cols-2 gap-6">
          <!-- Free -->
          <div class="rounded-xl border border-surface1 bg-surface0 p-8">
            <h3 class="font-semibold text-lg text-text mb-1">Free</h3>
            <p class="text-subtext0 text-sm mb-6">For getting started</p>
            <div class="mb-6">
              <span class="text-4xl font-bold text-text">$0</span>
            </div>
            <ul class="space-y-3 text-sm">
              <li class="flex items-center gap-2 text-subtext0">
                <svg
                  class="w-4 h-4 text-green shrink-0"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"></path>
                </svg>
                SQLite support
              </li>
              <li class="flex items-center gap-2 text-subtext0">
                <svg
                  class="w-4 h-4 text-green shrink-0"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"></path>
                </svg>
                Table editor
              </li>
              <li class="flex items-center gap-2 text-subtext0">
                <svg
                  class="w-4 h-4 text-green shrink-0"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"></path>
                </svg>
                Query editor
              </li>
            </ul>
          </div>
          <!-- License -->
          <div
            class="rounded-xl border border-peach/30 bg-surface0 p-8 relative"
          >
            <h3 class="font-semibold text-lg text-text mb-1">License</h3>
            <p class="text-subtext0 text-sm mb-6">For professionals</p>
            <div class="mb-6">
              <span class="text-4xl font-bold text-text">$30</span>
              <span class="text-subtext0 text-sm ml-1">USD</span>
            </div>
            <ul class="space-y-3 text-sm">
              <li class="flex items-center gap-2 text-subtext0">
                <svg
                  class="w-4 h-4 text-green shrink-0"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"></path>
                </svg>
                All databases
              </li>
              <li class="flex items-center gap-2 text-subtext0">
                <svg
                  class="w-4 h-4 text-green shrink-0"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"></path>
                </svg>
                Up to 3 devices
              </li>
              <li class="flex items-center gap-2 text-subtext0">
                <svg
                  class="w-4 h-4 text-green shrink-0"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"></path>
                </svg>
                All future updates
              </li>
              <li class="flex items-center gap-2 text-subtext0">
                <svg
                  class="w-4 h-4 text-green shrink-0"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"></path>
                </svg>
                ER diagrams
              </li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="py-8 px-6 border-t border-surface1">
      <div
        class="max-w-2xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4"
      >
        <p class="text-subtext0 text-sm">
          &copy; {currentYear} DearSQL
        </p>
        <div class="flex gap-6 text-sm">
          <a
            href="mailto:bing@db99.dev"
            class="text-subtext0 hover:text-text transition-colors"
          >
            Contact
          </a>
        </div>
      </div>
    </footer>
  </div>
</Layout>
